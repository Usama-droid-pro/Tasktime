{"ast":null,"code":"var _jsxFileName = \"/Users/lapteck/Developer/Company/Timesheet/Front End TS/src/components/ViewLogs.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { cn } from '../utils/helpers';\nimport { DUMMY_PROJECTS } from '../constants/dummyData';\nimport { timesheetService, userService } from '../services';\nimport { Loader2, AlertCircle } from 'lucide-react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ViewLogs = () => {\n  _s();\n  const [searchParams] = useSearchParams();\n  const preSelectedUserId = searchParams.get('user');\n  const preSelectedUserName = searchParams.get('name');\n  const [selectedUserId, setSelectedUserId] = useState(preSelectedUserId || '');\n\n  // Date range state - default to current month\n  const getCurrentMonthRange = () => {\n    const now = new Date();\n    const firstDay = new Date(now.getFullYear(), now.getMonth(), 1);\n    return {\n      startDate: firstDay.toISOString().split('T')[0],\n      endDate: now.toISOString().split('T')[0]\n    };\n  };\n  const [dateRange, setDateRange] = useState(getCurrentMonthRange());\n\n  // API state management\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Users state\n  const [apiUsers, setApiUsers] = useState([]);\n  const [usersLoading, setUsersLoading] = useState(false);\n  const [usersError, setUsersError] = useState(null);\n\n  // Fetch users from API\n  const fetchUsers = async () => {\n    setUsersLoading(true);\n    setUsersError(null);\n    try {\n      const response = await userService.getUsers();\n      setApiUsers(response.data.users);\n      console.log('Successfully fetched users from API:', response.data.users.length);\n    } catch (err) {\n      console.error('Failed to fetch users:', err);\n      const errorMessage = err instanceof Error ? err.message : 'Failed to fetch users';\n      setUsersError(errorMessage);\n      setApiUsers([]);\n    } finally {\n      setUsersLoading(false);\n    }\n  };\n\n  // Get users list from API\n  const getUsersList = () => {\n    return apiUsers;\n  };\n\n  // Helper function to get user name from ID\n  const getUserNameById = userId => {\n    const users = getUsersList();\n    const userData = users.find(u => u.id === userId.toString());\n    return (userData === null || userData === void 0 ? void 0 : userData.name) || `User ${userId}`;\n  };\n\n  // Get user IDs for tabs from API users\n  const getUserIdsForTabs = () => {\n    return apiUsers.map(user => user.id);\n  };\n\n  // State for processed API logs\n  const [apiProcessedLogs, setApiProcessedLogs] = useState([]);\n\n  // Fetch task logs from API\n  const fetchTimeLogs = async (employeeId, startDate, endDate) => {\n    if (!useRealData) return; // Skip if using dummy data\n\n    setIsLoading(true);\n    setError(null);\n    try {\n      const processedLogs = await processApiTaskLogs(employeeId, startDate, endDate);\n      setApiProcessedLogs(processedLogs);\n      setApiAvailable(true);\n    } catch (err) {\n      console.error('Failed to fetch task logs:', err);\n      const errorMessage = err instanceof Error ? err.message : 'Failed to fetch task logs';\n\n      // Check if it's a 404 error (API endpoint not found)\n      if (errorMessage.includes('not found') || errorMessage.includes('404')) {\n        setError('API endpoint not available. Using demo data instead.');\n        setApiAvailable(false);\n        // Automatically switch to demo data\n        setUseRealData(false);\n      } else {\n        setError(errorMessage);\n        setApiAvailable(false);\n      }\n      setApiProcessedLogs([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fetch users on component mount (always try to get users from API)\n  useEffect(() => {\n    fetchUsers();\n  }, []); // Only run once on mount\n\n  // Auto-switch to API data mode when users are successfully loaded\n  useEffect(() => {\n    if (apiUsers.length > 0 && !useRealData) {\n      console.log('API users loaded, switching to API data mode');\n      setUseRealData(true);\n    }\n  }, [apiUsers, useRealData]);\n\n  // Set default to first user on component mount (only if no pre-selected user)\n  React.useEffect(() => {\n    const userIds = getUserIdsForTabs();\n    if (userIds.length > 0 && !selectedUserId && !preSelectedUserId) {\n      setSelectedUserId(userIds[0]);\n    }\n  }, [selectedUserId, preSelectedUserId, apiUsers]); // Removed useRealData dependency\n\n  // Debounced fetch to prevent excessive API calls\n  useEffect(() => {\n    if (!selectedUserId || !useRealData) return;\n    const timeoutId = setTimeout(() => {\n      fetchTimeLogs(selectedUserId, dateRange.startDate, dateRange.endDate);\n    }, 300); // 300ms debounce\n\n    return () => clearTimeout(timeoutId);\n  }, [selectedUserId, dateRange, useRealData]);\n\n  // Handle employee change with proper state management\n  const handleEmployeeChange = newEmployeeId => {\n    const stringId = newEmployeeId.toString();\n    console.log('Switching to employee ID:', stringId);\n    setSelectedUserId(stringId);\n    setError(null); // Clear any previous errors\n\n    // If using real data, the useEffect above will trigger the fetch\n    // If using dummy data, the component will re-render with filtered data\n  };\n\n  // Validate date range\n  const isValidDateRange = () => {\n    if (!dateRange.startDate || !dateRange.endDate) return true; // Allow empty dates\n    return new Date(dateRange.startDate) <= new Date(dateRange.endDate);\n  };\n\n  // Filter dummy data by date range when not using real API\n  const getFilteredDummyData = () => {\n    if (useRealData) return filteredLogData;\n    return filteredLogData.filter(log => {\n      const logDate = new Date(log.date);\n      const startDate = dateRange.startDate ? new Date(dateRange.startDate) : null;\n      const endDate = dateRange.endDate ? new Date(dateRange.endDate) : null;\n      if (startDate && logDate < startDate) return false;\n      if (endDate && logDate > endDate) return false;\n      return true;\n    });\n  };\n\n  // Debug logging for pre-selected user\n  React.useEffect(() => {\n    if (preSelectedUserId) {\n      console.log('Pre-selected user ID:', preSelectedUserId);\n      console.log('Pre-selected user name:', preSelectedUserName);\n      console.log('Available user IDs in sample data:', allUserIds);\n      console.log('Selected user ID:', selectedUserId);\n    }\n  }, [preSelectedUserId, preSelectedUserName, allUserIds, selectedUserId]);\n\n  // Debug when selectedUserId changes\n  React.useEffect(() => {\n    console.log('selectedUserId changed to:', selectedUserId);\n  }, [selectedUserId]);\n\n  // Process real API task logs into display format\n  const processApiTaskLogs = async (employeeId, startDate, endDate) => {\n    try {\n      const response = await timesheetService.getTaskLogsByEmployee(employeeId, startDate, endDate);\n      return response.data.taskLogs.map(taskLog => {\n        const projectHours = {};\n        const descriptions = [];\n\n        // Initialize all projects with 0 hours\n        projectNames.forEach(projectName => {\n          projectHours[projectName] = 0;\n        });\n\n        // Process tasks from the task log\n        taskLog.tasks.forEach(task => {\n          if (!projectHours[task.project_name]) {\n            projectHours[task.project_name] = 0;\n          }\n          projectHours[task.project_name] += task.hours;\n          if (task.description) {\n            descriptions.push(task.description);\n          }\n        });\n        const sumOfProjectHours = Object.values(projectHours).reduce((sum, hours) => sum + hours, 0);\n        const hasValidationError = Math.abs(taskLog.totalHours - sumOfProjectHours) > 0.01;\n        return {\n          id: taskLog.id,\n          date: taskLog.date,\n          totalHours: taskLog.totalHours,\n          projectHours,\n          descriptions,\n          hasValidationError,\n          originalLogs: [] // We don't need to convert to TimeLog format for display\n        };\n      }).sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n    } catch (error) {\n      console.error('Failed to process task logs:', error);\n      return [];\n    }\n  };\n\n  // Filter data by selected user ID only\n  const filteredLogData = selectedUserId ? SAMPLE_LOG_DATA.filter(log => log.userId === parseInt(selectedUserId)) : SAMPLE_LOG_DATA;\n\n  // Debug logging\n  console.log('Selected User ID:', selectedUserId);\n  console.log('All User IDs:', allUserIds);\n  console.log('Filtered Data Count:', filteredLogData.length);\n  console.log('Sample Data Count:', SAMPLE_LOG_DATA.length);\n\n  // Get all unique project names from both DUMMY_PROJECTS and SAMPLE_LOG_DATA\n  const dummyProjectNames = DUMMY_PROJECTS.map(project => project.name);\n  const sampleProjectNames = Array.from(new Set(SAMPLE_LOG_DATA.flatMap(log => log.tasks.map(task => task.projectName))));\n  const projectNames = Array.from(new Set([...dummyProjectNames, ...sampleProjectNames]));\n\n  // Process log data to aggregate by project\n  const processedLogs = useRealData ? apiProcessedLogs : getFilteredDummyData().map(log => {\n    const projectHours = {};\n    const descriptions = [];\n\n    // Initialize all projects with 0 hours\n    projectNames.forEach(projectName => {\n      projectHours[projectName] = 0;\n    });\n\n    // Aggregate hours by project and collect descriptions\n    log.tasks.forEach(task => {\n      if (projectHours.hasOwnProperty(task.projectName)) {\n        projectHours[task.projectName] += task.hours;\n      }\n      descriptions.push(task.description);\n    });\n\n    // Calculate sum of all project hours\n    const sumOfProjectHours = Object.values(projectHours).reduce((sum, hours) => sum + hours, 0);\n\n    // Check if total hours doesn't match sum of project hours\n    const hasValidationError = Math.abs(log.totalHours - sumOfProjectHours) > 0.01;\n    return {\n      id: log.id,\n      date: log.date,\n      totalHours: log.totalHours,\n      projectHours,\n      descriptions,\n      hasValidationError,\n      originalLogs: [] // No original logs for dummy data\n    };\n  });\n  console.log('Processed logs for user', selectedUserId, ':', processedLogs);\n\n  // Generate column headers (A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z)\n  const columnHeaders = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n  const totalColumns = 3 + projectNames.length; // Date, Total Hours, What Accomplished + Projects\n  const usedColumns = columnHeaders.slice(0, totalColumns);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"flex flex-col h-full\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white border border-excel-border rounded-t-excel p-excel-md\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex items-center justify-between\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-excel-md\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-excel-lg font-semibold text-black\",\n            children: [\"Viewing logs for: \", preSelectedUserName || getUserNameById(selectedUserId)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 311,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => setUseRealData(!useRealData),\n            className: cn(\"px-excel-sm py-excel-xs text-excel-xs rounded-excel border transition-colors\", useRealData ? \"bg-blue-50 text-blue-700 border-blue-200\" : \"bg-gray-50 text-gray-700 border-gray-200\"),\n            title: useRealData ? \"Switch to demo data for logs (users always from API when available)\" : \"Switch to real API data for logs (users always from API when available)\",\n            children: useRealData ? \"API Data\" : \"Demo Data\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 316,\n            columnNumber: 13\n          }, this), apiAvailable === false && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-excel-xs text-orange-600 bg-orange-50 px-excel-xs py-excel-xs rounded\",\n            children: \"API not available\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), apiUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-excel-xs text-green-600 bg-green-50 px-excel-xs py-excel-xs rounded\",\n            children: [apiUsers.length, \" API users\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 334,\n            columnNumber: 15\n          }, this), apiUsers.length === 0 && !usersLoading && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-excel-xs text-orange-600 bg-orange-50 px-excel-xs py-excel-xs rounded\",\n            children: \"Using demo users\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 339,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 310,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-excel-md\",\n          children: [(isLoading || usersLoading) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-excel-xs text-excel-sm text-excel-text-muted\",\n            children: [/*#__PURE__*/_jsxDEV(Loader2, {\n              className: \"w-4 h-4 animate-spin\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 347,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: usersLoading ? 'Loading users...' : 'Loading...'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 348,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 15\n          }, this), (error || usersError) && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-excel-xs text-excel-sm text-red-600\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"w-4 h-4\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 353,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Error loading data\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 354,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-excel-sm text-excel-text-muted\",\n            children: [useRealData ? apiProcessedLogs.length : getFilteredDummyData().length, \" entries\", !isValidDateRange() && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-red-600 ml-excel-xs\",\n              children: \"(Invalid date range)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 360,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 357,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-excel-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: dateRange.startDate,\n              onChange: e => {\n                const newStartDate = e.target.value;\n                setDateRange(prev => ({\n                  ...prev,\n                  startDate: newStartDate\n                }));\n                setError(null); // Clear errors when changing filters\n              },\n              className: \"px-excel-sm py-excel-xs text-excel-xs border border-excel-border rounded-excel bg-white\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 364,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-excel-xs text-excel-text-muted\",\n              children: \"to\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 375,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"date\",\n              value: dateRange.endDate,\n              onChange: e => {\n                const newEndDate = e.target.value;\n                setDateRange(prev => ({\n                  ...prev,\n                  endDate: newEndDate\n                }));\n                setError(null); // Clear errors when changing filters\n              },\n              className: \"px-excel-sm py-excel-xs text-excel-xs border border-excel-border rounded-excel bg-white\",\n              disabled: isLoading\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => {\n                setDateRange(getCurrentMonthRange());\n                setError(null); // Clear errors when resetting\n              },\n              className: \"px-excel-sm py-excel-xs text-excel-xs bg-white border border-excel-border rounded-excel hover:bg-excel-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed\",\n              title: \"Current Month\",\n              disabled: isLoading,\n              children: \"\\uD83D\\uDCC5\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 387,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 363,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 309,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 308,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex-1 overflow-auto\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white border-l border-r border-b border-excel-border rounded-b-excel overflow-hidden\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"overflow-x-auto\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full border-collapse\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: [/*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"bg-excel-gray-100 border-b border-excel-border\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"w-12 h-6 border-r border-excel-border bg-excel-gray-200 text-excel-xs font-medium text-excel-text-muted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 413,\n                  columnNumber: 15\n                }, this), usedColumns.map((col, index) => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: cn('h-6 border-r border-excel-border bg-excel-gray-200 text-excel-xs font-medium text-excel-text-muted text-center', index === 0 && 'w-32',\n                  // Date column\n                  index === 1 && 'w-24',\n                  // Total Hours column\n                  index === 2 && 'w-80',\n                  // What Accomplished column\n                  index > 2 && 'w-32' // Project columns\n                  ),\n                  children: col\n                }, col, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 17\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 412,\n                columnNumber: 13\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: \"bg-excel-header border-b border-excel-border\",\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"w-12 h-8 border-r border-excel-border bg-excel-gray-200 text-excel-xs font-medium text-excel-text-muted\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 431,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"h-8 px-excel-md border-r border-excel-border bg-excel-header text-excel-sm font-medium text-white text-left\",\n                  children: \"Date\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"h-8 px-excel-md border-r border-excel-border bg-excel-header text-excel-sm font-medium text-white text-center\",\n                  children: \"Total Hours\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 435,\n                  columnNumber: 15\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"h-8 px-excel-md border-r border-excel-border bg-excel-header text-excel-sm font-medium text-white text-left\",\n                  children: \"What Accomplished\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 15\n                }, this), projectNames.map(projectName => /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"h-8 px-excel-md border-r border-excel-border bg-excel-header text-excel-sm font-medium text-white text-center\",\n                  children: projectName\n                }, projectName, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 442,\n                  columnNumber: 17\n                }, this))]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 430,\n                columnNumber: 13\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 410,\n              columnNumber: 11\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: isLoading ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: totalColumns + 1,\n                  className: \"h-16 px-excel-md py-excel-sm text-center text-excel-sm text-excel-text-muted bg-excel-gray-50\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center space-x-excel-md\",\n                    children: [/*#__PURE__*/_jsxDEV(Loader2, {\n                      className: \"w-4 h-4 animate-spin\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 461,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: \"Loading time logs...\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 462,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 460,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 456,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 455,\n                columnNumber: 15\n              }, this) : error ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: totalColumns + 1,\n                  className: \"h-16 px-excel-md py-excel-sm text-center text-excel-sm text-red-600 bg-red-50\",\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"flex items-center justify-center space-x-excel-md\",\n                    children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n                      className: \"w-4 h-4\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 473,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: error\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 474,\n                      columnNumber: 21\n                    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                      onClick: () => fetchTimeLogs(selectedUserId, dateRange.startDate, dateRange.endDate),\n                      className: \"text-blue-600 hover:text-blue-700 underline\",\n                      children: \"Retry\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 475,\n                      columnNumber: 21\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 472,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 468,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 467,\n                columnNumber: 15\n              }, this) : processedLogs.length === 0 ? /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: /*#__PURE__*/_jsxDEV(\"td\", {\n                  colSpan: totalColumns + 1,\n                  className: \"h-16 px-excel-md py-excel-sm text-center text-excel-sm text-excel-text-muted bg-excel-gray-50\",\n                  children: selectedUserId && useRealData ? `No logs available for ${getUserNameById(selectedUserId)}. This user may not have logged any tasks yet.` : selectedUserId && !allUserIds.includes(parseInt(selectedUserId)) ? `No logs available for ${getUserNameById(selectedUserId)}. This user may not have logged any tasks yet.` : 'No logs found for the selected criteria.'\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 17\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 485,\n                columnNumber: 15\n              }, this) : processedLogs.map((log, rowIndex) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: cn(\"border-b border-excel-border\", log.hasValidationError ? \"bg-red-50 hover:bg-red-100\" : \"hover:bg-excel-hover\"),\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: cn(\"w-4 h-4 border-r border-excel-border text-excel-xs font-medium text-center\", log.hasValidationError ? \"bg-red-100 text-red-600\" : \"bg-excel-gray-200 text-excel-text-muted\"),\n                  children: rowIndex + 1\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 510,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: cn(\"h-8 px-excel-md py-excel-sm border-r border-excel-border text-excel-sm\", log.hasValidationError ? \"bg-red-50 text-red-800\" : \"bg-white text-excel-text-primary\"),\n                  children: new Date(log.date).toLocaleDateString('en-US', {\n                    month: 'short',\n                    day: 'numeric',\n                    year: 'numeric'\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 520,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: cn(\"h-8 px-excel-md py-excel-sm border-r border-excel-border text-excel-sm text-center font-medium\", log.hasValidationError ? \"bg-red-50 text-red-800\" : \"bg-white text-excel-text-primary\"),\n                  children: log.totalHours\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 534,\n                  columnNumber: 17\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: cn(\"h-auto px-excel-md py-excel-sm border-r border-excel-border text-excel-sm max-w-80\", log.hasValidationError ? \"bg-red-50 text-red-800\" : \"bg-white text-excel-text-primary\"),\n                  children: /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"break-words whitespace-normal\",\n                    children: log.descriptions.join(', ')\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 550,\n                    columnNumber: 19\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 544,\n                  columnNumber: 17\n                }, this), projectNames.map(projectName => /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: cn(\"h-8 px-excel-md py-excel-sm border-r border-excel-border text-excel-sm text-center\", log.hasValidationError ? \"bg-red-50 text-red-800\" : \"bg-white text-excel-text-primary\"),\n                  children: log.projectHours[projectName] > 0 ? `${log.projectHours[projectName]} hrs` : '-'\n                }, projectName, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 557,\n                  columnNumber: 19\n                }, this))]\n              }, log.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 15\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 11\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 408,\n            columnNumber: 9\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 407,\n          columnNumber: 7\n        }, this), processedLogs.some(log => log.hasValidationError) && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-red-50 border-t border-red-200 p-excel-md\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-excel-md text-excel-sm text-red-700\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"font-medium\",\n              children: \"\\u26A0\\uFE0F Validation Alert:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 580,\n              columnNumber: 13\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: [processedLogs.filter(log => log.hasValidationError).length, \" row(s) have total hours that don't match the sum of project hours\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 581,\n              columnNumber: 13\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 579,\n            columnNumber: 11\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 578,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-excel-gray-100 border-t border-excel-border\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex overflow-x-auto\",\n        children: usersLoading ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"px-excel-lg py-excel-sm text-excel-sm text-excel-text-muted flex items-center space-x-excel-sm\",\n          children: [/*#__PURE__*/_jsxDEV(Loader2, {\n            className: \"w-4 h-4 animate-spin\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 595,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: \"Loading users...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 596,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 594,\n          columnNumber: 13\n        }, this) : getUserIdsForTabs().map(userId => {\n          const stringUserId = userId.toString();\n          const numericUserId = typeof userId === 'string' ? parseInt(userId) : userId;\n          const hasLogs = apiUsers.length > 0 ? true : allUserIds.includes(numericUserId); // API users might have logs, dummy users check sample data\n          const user = getUsersList().find(u => u.id === stringUserId);\n          const isApiUser = apiUsers.length > 0;\n          return /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEmployeeChange(userId),\n            className: cn('px-excel-lg py-excel-sm text-excel-sm font-medium border-r border-excel-border whitespace-nowrap transition-colors duration-150', selectedUserId === stringUserId ? 'bg-white text-excel-blue-600 border-b-2 border-excel-blue-500' : 'bg-excel-gray-100 text-excel-text-primary hover:bg-excel-gray-200', !hasLogs && !isApiUser && 'opacity-60'),\n            title: isApiUser ? `${user === null || user === void 0 ? void 0 : user.name} (${user === null || user === void 0 ? void 0 : user.role}) - From API` : !hasLogs ? 'No logs available for this user' : `${user === null || user === void 0 ? void 0 : user.name} - Demo user`,\n            children: [getUserNameById(userId), (user === null || user === void 0 ? void 0 : user.role) && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-excel-xs text-excel-text-muted ml-excel-xs\",\n              children: [\"(\", user.role, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 627,\n              columnNumber: 21\n            }, this), !hasLogs && !isApiUser && ' (No logs)', isApiUser && /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-excel-xs text-blue-600 ml-excel-xs\",\n              children: \"\\u2022\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 633,\n              columnNumber: 21\n            }, this)]\n          }, userId, true, {\n            fileName: _jsxFileName,\n            lineNumber: 607,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 592,\n        columnNumber: 9\n      }, this), usersError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-excel-md py-excel-xs bg-yellow-50 border-t border-yellow-200 text-excel-xs text-yellow-700\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center space-x-excel-xs\",\n            children: [/*#__PURE__*/_jsxDEV(AlertCircle, {\n              className: \"w-3 h-3\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 646,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"Users API unavailable - showing demo users\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 647,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 645,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchUsers,\n            disabled: usersLoading,\n            className: \"text-blue-600 hover:text-blue-700 underline disabled:opacity-50\",\n            children: usersLoading ? 'Retrying...' : 'Retry'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 649,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 644,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 643,\n        columnNumber: 11\n      }, this), !usersError && apiUsers.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"px-excel-md py-excel-xs bg-green-50 border-t border-green-200 text-excel-xs text-green-700\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [\"\\u2713 \", apiUsers.length, \" users loaded from API\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 662,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: fetchUsers,\n            disabled: usersLoading,\n            className: \"text-green-600 hover:text-green-700 underline disabled:opacity-50\",\n            children: usersLoading ? 'Refreshing...' : 'Refresh'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 663,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 661,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 660,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 591,\n      columnNumber: 7\n    }, this)]\n  }, selectedUserId, true, {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 5\n  }, this);\n};\n_s(ViewLogs, \"A1LLALmApW9KZg57m4cENAesezc=\", false, function () {\n  return [useSearchParams];\n});\n_c = ViewLogs;\nexport default ViewLogs;\nvar _c;\n$RefreshReg$(_c, \"ViewLogs\");","map":{"version":3,"names":["React","useState","useEffect","useSearchParams","cn","DUMMY_PROJECTS","timesheetService","userService","Loader2","AlertCircle","jsxDEV","_jsxDEV","ViewLogs","_s","searchParams","preSelectedUserId","get","preSelectedUserName","selectedUserId","setSelectedUserId","getCurrentMonthRange","now","Date","firstDay","getFullYear","getMonth","startDate","toISOString","split","endDate","dateRange","setDateRange","isLoading","setIsLoading","error","setError","apiUsers","setApiUsers","usersLoading","setUsersLoading","usersError","setUsersError","fetchUsers","response","getUsers","data","users","console","log","length","err","errorMessage","Error","message","getUsersList","getUserNameById","userId","userData","find","u","id","toString","name","getUserIdsForTabs","map","user","apiProcessedLogs","setApiProcessedLogs","fetchTimeLogs","employeeId","useRealData","processedLogs","processApiTaskLogs","setApiAvailable","includes","setUseRealData","userIds","timeoutId","setTimeout","clearTimeout","handleEmployeeChange","newEmployeeId","stringId","isValidDateRange","getFilteredDummyData","filteredLogData","filter","logDate","date","allUserIds","getTaskLogsByEmployee","taskLogs","taskLog","projectHours","descriptions","projectNames","forEach","projectName","tasks","task","project_name","hours","description","push","sumOfProjectHours","Object","values","reduce","sum","hasValidationError","Math","abs","totalHours","originalLogs","sort","a","b","getTime","SAMPLE_LOG_DATA","parseInt","dummyProjectNames","project","sampleProjectNames","Array","from","Set","flatMap","hasOwnProperty","columnHeaders","totalColumns","usedColumns","slice","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","title","apiAvailable","type","value","onChange","e","newStartDate","target","prev","disabled","newEndDate","col","index","colSpan","rowIndex","toLocaleDateString","month","day","year","join","some","stringUserId","numericUserId","hasLogs","isApiUser","role","_c","$RefreshReg$"],"sources":["/Users/lapteck/Developer/Company/Timesheet/Front End TS/src/components/ViewLogs.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useSearchParams } from 'react-router-dom';\nimport { cn } from '../utils/helpers';\nimport { DUMMY_PROJECTS } from '../constants/dummyData';\nimport { timesheetService, userService } from '../services';\nimport { User } from '../services/users/users.service';\nimport { Loader2, AlertCircle } from 'lucide-react';\n\ninterface ProcessedTimeLog {\n  id?: string;\n  date: string;\n  totalHours: number;\n  projectHours: Record<string, number>;\n  descriptions: string[];\n  hasValidationError: boolean;\n  originalLogs: any[]; // Can be empty for processed logs\n}\n\nconst ViewLogs: React.FC = () => {\n  const [searchParams] = useSearchParams();\n  const preSelectedUserId = searchParams.get('user');\n  const preSelectedUserName = searchParams.get('name');\n  \n  const [selectedUserId, setSelectedUserId] = useState<string>(\n    preSelectedUserId || ''\n  );\n  \n  // Date range state - default to current month\n  const getCurrentMonthRange = () => {\n    const now = new Date();\n    const firstDay = new Date(now.getFullYear(), now.getMonth(), 1);\n    return {\n      startDate: firstDay.toISOString().split('T')[0],\n      endDate: now.toISOString().split('T')[0]\n    };\n  };\n  \n  const [dateRange, setDateRange] = useState(getCurrentMonthRange());\n  \n  // API state management\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState<string | null>(null);\n  \n  // Users state\n  const [apiUsers, setApiUsers] = useState<User[]>([]);\n  const [usersLoading, setUsersLoading] = useState(false);\n  const [usersError, setUsersError] = useState<string | null>(null);\n  \n  // Fetch users from API\n  const fetchUsers = async () => {\n    setUsersLoading(true);\n    setUsersError(null);\n    \n    try {\n      const response = await userService.getUsers();\n      setApiUsers(response.data.users);\n      console.log('Successfully fetched users from API:', response.data.users.length);\n    } catch (err) {\n      console.error('Failed to fetch users:', err);\n      const errorMessage = err instanceof Error ? err.message : 'Failed to fetch users';\n      setUsersError(errorMessage);\n      setApiUsers([]);\n    } finally {\n      setUsersLoading(false);\n    }\n  };\n\n  // Get users list from API\n  const getUsersList = () => {\n    return apiUsers;\n  };\n  \n  // Helper function to get user name from ID\n  const getUserNameById = (userId: number | string) => {\n    const users = getUsersList();\n    const userData = users.find(u => u.id === userId.toString());\n    return userData?.name || `User ${userId}`;\n  };\n\n  // Get user IDs for tabs from API users\n  const getUserIdsForTabs = () => {\n    return apiUsers.map(user => user.id);\n  };\n  \n  // State for processed API logs\n  const [apiProcessedLogs, setApiProcessedLogs] = useState<ProcessedTimeLog[]>([]);\n\n  // Fetch task logs from API\n  const fetchTimeLogs = async (employeeId: string, startDate?: string, endDate?: string) => {\n    if (!useRealData) return; // Skip if using dummy data\n    \n    setIsLoading(true);\n    setError(null);\n    \n    try {\n      const processedLogs = await processApiTaskLogs(employeeId, startDate, endDate);\n      setApiProcessedLogs(processedLogs);\n      setApiAvailable(true);\n    } catch (err) {\n      console.error('Failed to fetch task logs:', err);\n      const errorMessage = err instanceof Error ? err.message : 'Failed to fetch task logs';\n      \n      // Check if it's a 404 error (API endpoint not found)\n      if (errorMessage.includes('not found') || errorMessage.includes('404')) {\n        setError('API endpoint not available. Using demo data instead.');\n        setApiAvailable(false);\n        // Automatically switch to demo data\n        setUseRealData(false);\n      } else {\n        setError(errorMessage);\n        setApiAvailable(false);\n      }\n      setApiProcessedLogs([]);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  // Fetch users on component mount (always try to get users from API)\n  useEffect(() => {\n    fetchUsers();\n  }, []); // Only run once on mount\n\n  // Auto-switch to API data mode when users are successfully loaded\n  useEffect(() => {\n    if (apiUsers.length > 0 && !useRealData) {\n      console.log('API users loaded, switching to API data mode');\n      setUseRealData(true);\n    }\n  }, [apiUsers, useRealData]);\n\n  // Set default to first user on component mount (only if no pre-selected user)\n  React.useEffect(() => {\n    const userIds = getUserIdsForTabs();\n    if (userIds.length > 0 && !selectedUserId && !preSelectedUserId) {\n      setSelectedUserId(userIds[0]);\n    }\n  }, [selectedUserId, preSelectedUserId, apiUsers]); // Removed useRealData dependency\n\n  // Debounced fetch to prevent excessive API calls\n  useEffect(() => {\n    if (!selectedUserId || !useRealData) return;\n    \n    const timeoutId = setTimeout(() => {\n      fetchTimeLogs(selectedUserId, dateRange.startDate, dateRange.endDate);\n    }, 300); // 300ms debounce\n    \n    return () => clearTimeout(timeoutId);\n  }, [selectedUserId, dateRange, useRealData]);\n\n  // Handle employee change with proper state management\n  const handleEmployeeChange = (newEmployeeId: number | string) => {\n    const stringId = newEmployeeId.toString();\n    console.log('Switching to employee ID:', stringId);\n    setSelectedUserId(stringId);\n    setError(null); // Clear any previous errors\n    \n    // If using real data, the useEffect above will trigger the fetch\n    // If using dummy data, the component will re-render with filtered data\n  };\n\n  // Validate date range\n  const isValidDateRange = () => {\n    if (!dateRange.startDate || !dateRange.endDate) return true; // Allow empty dates\n    return new Date(dateRange.startDate) <= new Date(dateRange.endDate);\n  };\n\n  // Filter dummy data by date range when not using real API\n  const getFilteredDummyData = () => {\n    if (useRealData) return filteredLogData;\n    \n    return filteredLogData.filter(log => {\n      const logDate = new Date(log.date);\n      const startDate = dateRange.startDate ? new Date(dateRange.startDate) : null;\n      const endDate = dateRange.endDate ? new Date(dateRange.endDate) : null;\n      \n      if (startDate && logDate < startDate) return false;\n      if (endDate && logDate > endDate) return false;\n      \n      return true;\n    });\n  };\n  \n  // Debug logging for pre-selected user\n  React.useEffect(() => {\n    if (preSelectedUserId) {\n      console.log('Pre-selected user ID:', preSelectedUserId);\n      console.log('Pre-selected user name:', preSelectedUserName);\n      console.log('Available user IDs in sample data:', allUserIds);\n      console.log('Selected user ID:', selectedUserId);\n    }\n  }, [preSelectedUserId, preSelectedUserName, allUserIds, selectedUserId]);\n  \n  // Debug when selectedUserId changes\n  React.useEffect(() => {\n    console.log('selectedUserId changed to:', selectedUserId);\n  }, [selectedUserId]);\n  \n  // Process real API task logs into display format\n  const processApiTaskLogs = async (employeeId: string, startDate?: string, endDate?: string): Promise<ProcessedTimeLog[]> => {\n    try {\n      const response = await timesheetService.getTaskLogsByEmployee(employeeId, startDate, endDate);\n      \n      return response.data.taskLogs.map(taskLog => {\n        const projectHours: Record<string, number> = {};\n        const descriptions: string[] = [];\n        \n        // Initialize all projects with 0 hours\n        projectNames.forEach(projectName => {\n          projectHours[projectName] = 0;\n        });\n\n        // Process tasks from the task log\n        taskLog.tasks.forEach(task => {\n          if (!projectHours[task.project_name]) {\n            projectHours[task.project_name] = 0;\n          }\n          projectHours[task.project_name] += task.hours;\n          if (task.description) {\n            descriptions.push(task.description);\n          }\n        });\n\n        const sumOfProjectHours = Object.values(projectHours).reduce((sum, hours) => sum + hours, 0);\n        const hasValidationError = Math.abs(taskLog.totalHours - sumOfProjectHours) > 0.01;\n\n        return {\n          id: taskLog.id,\n          date: taskLog.date,\n          totalHours: taskLog.totalHours,\n          projectHours,\n          descriptions,\n          hasValidationError,\n          originalLogs: [] // We don't need to convert to TimeLog format for display\n        };\n      }).sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n    } catch (error) {\n      console.error('Failed to process task logs:', error);\n      return [];\n    }\n  };\n\n  // Filter data by selected user ID only\n  const filteredLogData = selectedUserId \n    ? SAMPLE_LOG_DATA.filter(log => log.userId === parseInt(selectedUserId))\n    : SAMPLE_LOG_DATA;\n  \n  // Debug logging\n  console.log('Selected User ID:', selectedUserId);\n  console.log('All User IDs:', allUserIds);\n  console.log('Filtered Data Count:', filteredLogData.length);\n  console.log('Sample Data Count:', SAMPLE_LOG_DATA.length);\n  \n  // Get all unique project names from both DUMMY_PROJECTS and SAMPLE_LOG_DATA\n  const dummyProjectNames = DUMMY_PROJECTS.map(project => project.name);\n  const sampleProjectNames = Array.from(new Set(\n    SAMPLE_LOG_DATA.flatMap(log => log.tasks.map(task => task.projectName))\n  ));\n  const projectNames = Array.from(new Set([...dummyProjectNames, ...sampleProjectNames]));\n  \n  // Process log data to aggregate by project\n  const processedLogs = useRealData \n    ? apiProcessedLogs\n    : getFilteredDummyData().map(log => {\n        const projectHours: { [key: string]: number } = {};\n        const descriptions: string[] = [];\n        \n        // Initialize all projects with 0 hours\n        projectNames.forEach(projectName => {\n          projectHours[projectName] = 0;\n        });\n        \n        // Aggregate hours by project and collect descriptions\n        log.tasks.forEach(task => {\n          if (projectHours.hasOwnProperty(task.projectName)) {\n            projectHours[task.projectName] += task.hours;\n          }\n          descriptions.push(task.description);\n        });\n        \n        // Calculate sum of all project hours\n        const sumOfProjectHours = Object.values(projectHours).reduce((sum, hours) => sum + hours, 0);\n        \n        // Check if total hours doesn't match sum of project hours\n        const hasValidationError = Math.abs(log.totalHours - sumOfProjectHours) > 0.01;\n        \n        return {\n          id: log.id,\n          date: log.date,\n          totalHours: log.totalHours,\n          projectHours,\n          descriptions,\n          hasValidationError,\n          originalLogs: [] // No original logs for dummy data\n        };\n      });\n  \n  console.log('Processed logs for user', selectedUserId, ':', processedLogs);\n\n  // Generate column headers (A, B, C, D, E, F, G, H, I, J, K, L, M, N, O, P, Q, R, S, T, U, V, W, X, Y, Z)\n  const columnHeaders = ['A', 'B', 'C', 'D', 'E', 'F', 'G', 'H', 'I', 'J', 'K', 'L', 'M', 'N', 'O', 'P', 'Q', 'R', 'S', 'T', 'U', 'V', 'W', 'X', 'Y', 'Z'];\n  const totalColumns = 3 + projectNames.length; // Date, Total Hours, What Accomplished + Projects\n  const usedColumns = columnHeaders.slice(0, totalColumns);\n\n  return (\n    <div className=\"flex flex-col h-full\" key={selectedUserId}>\n      {/* User Info Header with Date Filter */}\n      <div className=\"bg-white border border-excel-border rounded-t-excel p-excel-md\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center space-x-excel-md\">\n            <h3 className=\"text-excel-lg font-semibold text-black\">\n              Viewing logs for: {preSelectedUserName || getUserNameById(selectedUserId)}\n           \n            </h3>\n            {/* Data source toggle */}\n            <button\n              onClick={() => setUseRealData(!useRealData)}\n              className={cn(\n                \"px-excel-sm py-excel-xs text-excel-xs rounded-excel border transition-colors\",\n                useRealData \n                  ? \"bg-blue-50 text-blue-700 border-blue-200\" \n                  : \"bg-gray-50 text-gray-700 border-gray-200\"\n              )}\n              title={useRealData ? \"Switch to demo data for logs (users always from API when available)\" : \"Switch to real API data for logs (users always from API when available)\"}\n            >\n              {useRealData ? \"API Data\" : \"Demo Data\"}\n            </button>\n            {apiAvailable === false && (\n              <span className=\"text-excel-xs text-orange-600 bg-orange-50 px-excel-xs py-excel-xs rounded\">\n                API not available\n              </span>\n            )}\n            {apiUsers.length > 0 && (\n              <span className=\"text-excel-xs text-green-600 bg-green-50 px-excel-xs py-excel-xs rounded\">\n                {apiUsers.length} API users\n              </span>\n            )}\n            {apiUsers.length === 0 && !usersLoading && (\n              <span className=\"text-excel-xs text-orange-600 bg-orange-50 px-excel-xs py-excel-xs rounded\">\n                Using demo users\n              </span>\n            )}\n          </div>\n          <div className=\"flex items-center space-x-excel-md\">\n            {(isLoading || usersLoading) && (\n              <div className=\"flex items-center space-x-excel-xs text-excel-sm text-excel-text-muted\">\n                <Loader2 className=\"w-4 h-4 animate-spin\" />\n                <span>{usersLoading ? 'Loading users...' : 'Loading...'}</span>\n              </div>\n            )}\n            {(error || usersError) && (\n              <div className=\"flex items-center space-x-excel-xs text-excel-sm text-red-600\">\n                <AlertCircle className=\"w-4 h-4\" />\n                <span>Error loading data</span>\n              </div>\n            )}\n            <span className=\"text-excel-sm text-excel-text-muted\">\n              {useRealData ? apiProcessedLogs.length : getFilteredDummyData().length} entries\n              {!isValidDateRange() && (\n                <span className=\"text-red-600 ml-excel-xs\">(Invalid date range)</span>\n              )}\n            </span>\n            <div className=\"flex items-center space-x-excel-sm\">\n              <input\n                type=\"date\"\n                value={dateRange.startDate}\n                onChange={(e) => {\n                  const newStartDate = e.target.value;\n                  setDateRange(prev => ({ ...prev, startDate: newStartDate }));\n                  setError(null); // Clear errors when changing filters\n                }}\n                className=\"px-excel-sm py-excel-xs text-excel-xs border border-excel-border rounded-excel bg-white\"\n                disabled={isLoading}\n              />\n              <span className=\"text-excel-xs text-excel-text-muted\">to</span>\n              <input\n                type=\"date\"\n                value={dateRange.endDate}\n                onChange={(e) => {\n                  const newEndDate = e.target.value;\n                  setDateRange(prev => ({ ...prev, endDate: newEndDate }));\n                  setError(null); // Clear errors when changing filters\n                }}\n                className=\"px-excel-sm py-excel-xs text-excel-xs border border-excel-border rounded-excel bg-white\"\n                disabled={isLoading}\n              />\n              <button\n                onClick={() => {\n                  setDateRange(getCurrentMonthRange());\n                  setError(null); // Clear errors when resetting\n                }}\n                className=\"px-excel-sm py-excel-xs text-excel-xs bg-white border border-excel-border rounded-excel hover:bg-excel-hover transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\n                title=\"Current Month\"\n                disabled={isLoading}\n              >\n                📅\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      {/* Main Table Content */}\n      <div className=\"flex-1 overflow-auto\">\n        <div className=\"bg-white border-l border-r border-b border-excel-border rounded-b-excel overflow-hidden\">\n      {/* Excel-like Table */}\n      <div className=\"overflow-x-auto\">\n        <table className=\"w-full border-collapse\">\n          {/* Column Headers */}\n          <thead>\n            {/* Excel Column Letters Row */}\n            <tr className=\"bg-excel-gray-100 border-b border-excel-border\">\n              <th className=\"w-12 h-6 border-r border-excel-border bg-excel-gray-200 text-excel-xs font-medium text-excel-text-muted\"></th>\n              {usedColumns.map((col, index) => (\n                <th\n                  key={col}\n                  className={cn(\n                    'h-6 border-r border-excel-border bg-excel-gray-200 text-excel-xs font-medium text-excel-text-muted text-center',\n                    index === 0 && 'w-32', // Date column\n                    index === 1 && 'w-24', // Total Hours column\n                    index === 2 && 'w-80', // What Accomplished column\n                    index > 2 && 'w-32' // Project columns\n                  )}\n                >\n                  {col}\n                </th>\n              ))}\n            </tr>\n            {/* Column Names Row */}\n            <tr className=\"bg-excel-header border-b border-excel-border\">\n              <th className=\"w-12 h-8 border-r border-excel-border bg-excel-gray-200 text-excel-xs font-medium text-excel-text-muted\"></th>\n              <th className=\"h-8 px-excel-md border-r border-excel-border bg-excel-header text-excel-sm font-medium text-white text-left\">\n                Date\n              </th>\n              <th className=\"h-8 px-excel-md border-r border-excel-border bg-excel-header text-excel-sm font-medium text-white text-center\">\n                Total Hours\n              </th>\n              <th className=\"h-8 px-excel-md border-r border-excel-border bg-excel-header text-excel-sm font-medium text-white text-left\">\n                What Accomplished\n              </th>\n              {projectNames.map((projectName) => (\n                <th\n                  key={projectName}\n                  className=\"h-8 px-excel-md border-r border-excel-border bg-excel-header text-excel-sm font-medium text-white text-center\"\n                >\n                  {projectName}\n                </th>\n              ))}\n            </tr>\n          </thead>\n\n          {/* Data Rows */}\n          <tbody>\n            {isLoading ? (\n              <tr>\n                <td \n                  colSpan={totalColumns + 1} \n                  className=\"h-16 px-excel-md py-excel-sm text-center text-excel-sm text-excel-text-muted bg-excel-gray-50\"\n                >\n                  <div className=\"flex items-center justify-center space-x-excel-md\">\n                    <Loader2 className=\"w-4 h-4 animate-spin\" />\n                    <span>Loading time logs...</span>\n                  </div>\n                </td>\n              </tr>\n            ) : error ? (\n              <tr>\n                <td \n                  colSpan={totalColumns + 1} \n                  className=\"h-16 px-excel-md py-excel-sm text-center text-excel-sm text-red-600 bg-red-50\"\n                >\n                  <div className=\"flex items-center justify-center space-x-excel-md\">\n                    <AlertCircle className=\"w-4 h-4\" />\n                    <span>{error}</span>\n                    <button\n                      onClick={() => fetchTimeLogs(selectedUserId, dateRange.startDate, dateRange.endDate)}\n                      className=\"text-blue-600 hover:text-blue-700 underline\"\n                    >\n                      Retry\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            ) : processedLogs.length === 0 ? (\n              <tr>\n                <td \n                  colSpan={totalColumns + 1} \n                  className=\"h-16 px-excel-md py-excel-sm text-center text-excel-sm text-excel-text-muted bg-excel-gray-50\"\n                >\n                  {selectedUserId && useRealData\n                    ? `No logs available for ${getUserNameById(selectedUserId)}. This user may not have logged any tasks yet.`\n                    : selectedUserId && !allUserIds.includes(parseInt(selectedUserId)) \n                    ? `No logs available for ${getUserNameById(selectedUserId)}. This user may not have logged any tasks yet.`\n                    : 'No logs found for the selected criteria.'\n                  }\n                </td>\n              </tr>\n            ) : (\n              processedLogs.map((log, rowIndex) => (\n              <tr \n                key={log.id} \n                className={cn(\n                  \"border-b border-excel-border\",\n                  log.hasValidationError \n                    ? \"bg-red-50 hover:bg-red-100\" \n                    : \"hover:bg-excel-hover\"\n                )}\n              >\n                {/* Row Number */}\n                <td className={cn(\n                  \"w-4 h-4 border-r border-excel-border text-excel-xs font-medium text-center\",\n                  log.hasValidationError \n                    ? \"bg-red-100 text-red-600\" \n                    : \"bg-excel-gray-200 text-excel-text-muted\"\n                )}>\n                  {rowIndex + 1}\n                </td>\n                \n                {/* Date */}\n                <td className={cn(\n                  \"h-8 px-excel-md py-excel-sm border-r border-excel-border text-excel-sm\",\n                  log.hasValidationError \n                    ? \"bg-red-50 text-red-800\" \n                    : \"bg-white text-excel-text-primary\"\n                )}>\n                  {new Date(log.date).toLocaleDateString('en-US', { \n                    month: 'short', \n                    day: 'numeric',\n                    year: 'numeric' \n                  })}\n                </td>\n                \n                {/* Total Hours */}\n                <td className={cn(\n                  \"h-8 px-excel-md py-excel-sm border-r border-excel-border text-excel-sm text-center font-medium\",\n                  log.hasValidationError \n                    ? \"bg-red-50 text-red-800\" \n                    : \"bg-white text-excel-text-primary\"\n                )}>\n                  {log.totalHours}\n                </td>\n                \n                {/* What Accomplished */}\n                <td className={cn(\n                  \"h-auto px-excel-md py-excel-sm border-r border-excel-border text-excel-sm max-w-80\",\n                  log.hasValidationError \n                    ? \"bg-red-50 text-red-800\" \n                    : \"bg-white text-excel-text-primary\"\n                )}>\n                  <div className=\"break-words whitespace-normal\">\n                    {log.descriptions.join(', ')}\n                  </div>\n                </td>\n                \n                {/* Project Columns */}\n                {projectNames.map((projectName) => (\n                  <td\n                    key={projectName}\n                    className={cn(\n                      \"h-8 px-excel-md py-excel-sm border-r border-excel-border text-excel-sm text-center\",\n                      log.hasValidationError \n                        ? \"bg-red-50 text-red-800\" \n                        : \"bg-white text-excel-text-primary\"\n                    )}\n                  >\n                    {log.projectHours[projectName] > 0 ? `${log.projectHours[projectName]} hrs` : '-'}\n                  </td>\n                ))}\n              </tr>\n            ))\n            )}\n          </tbody>\n        </table>\n      </div>\n\n      {/* Validation Summary */}\n      {processedLogs.some(log => log.hasValidationError) && (\n        <div className=\"bg-red-50 border-t border-red-200 p-excel-md\">\n          <div className=\"flex items-center space-x-excel-md text-excel-sm text-red-700\">\n            <span className=\"font-medium\">⚠️ Validation Alert:</span>\n            <span>\n              {processedLogs.filter(log => log.hasValidationError).length} row(s) have total hours that don't match the sum of project hours\n            </span>\n          </div>\n        </div>\n      )}\n        </div>\n      </div>\n\n      {/* Bottom User Tabs Navigation (Excel-like) */}\n      <div className=\"bg-excel-gray-100 border-t border-excel-border\">\n        <div className=\"flex overflow-x-auto\">\n          {usersLoading ? (\n            <div className=\"px-excel-lg py-excel-sm text-excel-sm text-excel-text-muted flex items-center space-x-excel-sm\">\n              <Loader2 className=\"w-4 h-4 animate-spin\" />\n              <span>Loading users...</span>\n            </div>\n          ) : (\n            getUserIdsForTabs().map((userId) => {\n              const stringUserId = userId.toString();\n              const numericUserId = typeof userId === 'string' ? parseInt(userId) : userId;\n              const hasLogs = apiUsers.length > 0 ? true : allUserIds.includes(numericUserId); // API users might have logs, dummy users check sample data\n              const user = getUsersList().find(u => u.id === stringUserId);\n              const isApiUser = apiUsers.length > 0;\n              \n              return (\n                <button\n                  key={userId}\n                  onClick={() => handleEmployeeChange(userId)}\n                  className={cn(\n                    'px-excel-lg py-excel-sm text-excel-sm font-medium border-r border-excel-border whitespace-nowrap transition-colors duration-150',\n                    selectedUserId === stringUserId\n                      ? 'bg-white text-excel-blue-600 border-b-2 border-excel-blue-500'\n                      : 'bg-excel-gray-100 text-excel-text-primary hover:bg-excel-gray-200',\n                    !hasLogs && !isApiUser && 'opacity-60'\n                  )}\n                  title={\n                    isApiUser \n                      ? `${user?.name} (${user?.role}) - From API` \n                      : !hasLogs \n                      ? 'No logs available for this user' \n                      : `${user?.name} - Demo user`\n                  }\n                >\n                  {getUserNameById(userId)}\n                  {user?.role && (\n                    <span className=\"text-excel-xs text-excel-text-muted ml-excel-xs\">\n                      ({user.role})\n                    </span>\n                  )}\n                  {!hasLogs && !isApiUser && ' (No logs)'}\n                  {isApiUser && (\n                    <span className=\"text-excel-xs text-blue-600 ml-excel-xs\">•</span>\n                  )}\n                </button>\n              );\n            })\n          )}\n        </div>\n        \n        {/* Users API status indicator */}\n        {usersError && (\n          <div className=\"px-excel-md py-excel-xs bg-yellow-50 border-t border-yellow-200 text-excel-xs text-yellow-700\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center space-x-excel-xs\">\n                <AlertCircle className=\"w-3 h-3\" />\n                <span>Users API unavailable - showing demo users</span>\n              </div>\n              <button\n                onClick={fetchUsers}\n                disabled={usersLoading}\n                className=\"text-blue-600 hover:text-blue-700 underline disabled:opacity-50\"\n              >\n                {usersLoading ? 'Retrying...' : 'Retry'}\n              </button>\n            </div>\n          </div>\n        )}\n        {!usersError && apiUsers.length > 0 && (\n          <div className=\"px-excel-md py-excel-xs bg-green-50 border-t border-green-200 text-excel-xs text-green-700\">\n            <div className=\"flex items-center justify-between\">\n              <span>✓ {apiUsers.length} users loaded from API</span>\n              <button\n                onClick={fetchUsers}\n                disabled={usersLoading}\n                className=\"text-green-600 hover:text-green-700 underline disabled:opacity-50\"\n              >\n                {usersLoading ? 'Refreshing...' : 'Refresh'}\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default ViewLogs;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}